<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PurchaseOrder.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Petstore application using Java EE 7</a> &gt; <a href="index.source.html" class="el_package">org.agoncal.application.petstore.model</a> &gt; <span class="el_source">PurchaseOrder.java</span></div><h1>PurchaseOrder.java</h1><pre class="source lang-java linenums">package org.agoncal.application.petstore.model;

import javax.persistence.*;
import javax.validation.Valid;
import javax.xml.bind.annotation.XmlRootElement;
import java.io.Serializable;
import java.util.Date;
import java.util.HashSet;
import java.util.Objects;
import java.util.Set;

@Entity
@Table(name = &quot;purchase_order&quot;)
@XmlRootElement
@NamedQueries({ @NamedQuery(name = PurchaseOrder.FIND_ALL, query = &quot;SELECT o FROM PurchaseOrder o&quot;) })
public class PurchaseOrder implements Serializable {

	// ======================================
	// = Attributes =
	// ======================================

	@Id
	@GeneratedValue(strategy = GenerationType.AUTO)
	@Column(name = &quot;id&quot;, updatable = false, nullable = false)
	private Long id;

	@Version
	@Column(name = &quot;version&quot;)
	private int version;

	@Column(name = &quot;order_date&quot;, updatable = false)
	@Temporal(TemporalType.DATE)
	private Date orderDate;

	@Column
	private Float totalWithoutVat;

	@Column(name = &quot;vat_rate&quot;)
	private Float vatRate;

	@Column
	private Float vat;

	@Column
	private Float totalWithVat;

	@Column(name = &quot;discount_rate&quot;)
	private Float discountRate;

	@Column
	private Float discount;

	@Column
	private Float total;

	@ManyToOne(fetch = FetchType.EAGER)
	@JoinColumn(name = &quot;customer_fk&quot;, nullable = false)
	private Customer customer;

<span class="nc" id="L60">	@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)</span>
	@JoinTable(name = &quot;t_order_order_line&quot;, joinColumns = { @JoinColumn(name = &quot;order_fk&quot;) },
			inverseJoinColumns = { @JoinColumn(name = &quot;order_line_fk&quot;) })
	private Set&lt;OrderLine&gt; orderLines = new HashSet&lt;OrderLine&gt;();

<span class="nc" id="L65">	@Embedded</span>
	@Valid
	private Address deliveryAddress = new Address();

<span class="nc" id="L69">	@Embedded</span>
	@Valid
	private CreditCard creditCard = new CreditCard();

	// ======================================
	// = Constants =
	// ======================================

	public static final String FIND_ALL = &quot;Order.findAll&quot;;

	// ======================================
	// = Constructors =
	// ======================================

<span class="nc" id="L83">	public PurchaseOrder() {</span>
<span class="nc" id="L84">	}</span>

<span class="nc" id="L86">	public PurchaseOrder(Customer customer, CreditCard creditCard, Address deliveryAddress) {</span>
<span class="nc" id="L87">		this.customer = customer;</span>
<span class="nc" id="L88">		this.creditCard = creditCard;</span>
<span class="nc" id="L89">		this.deliveryAddress = deliveryAddress;</span>
<span class="nc" id="L90">	}</span>

	// ======================================
	// = Lifecycle Methods =
	// ======================================

	@PrePersist
	private void setDefaultData() {
<span class="nc" id="L98">		orderDate = new Date();</span>
<span class="nc" id="L99">	}</span>

	// ======================================
	// = Getters &amp; setters =
	// ======================================

	public Long getId() {
<span class="nc" id="L106">		return this.id;</span>
	}

	public void setId(final Long id) {
<span class="nc" id="L110">		this.id = id;</span>
<span class="nc" id="L111">	}</span>

	public int getVersion() {
<span class="nc" id="L114">		return this.version;</span>
	}

	public void setVersion(final int version) {
<span class="nc" id="L118">		this.version = version;</span>
<span class="nc" id="L119">	}</span>

	public Date getOrderDate() {
<span class="nc" id="L122">		return orderDate;</span>
	}

	public void setOrderDate(Date orderDate) {
<span class="nc" id="L126">		this.orderDate = orderDate;</span>
<span class="nc" id="L127">	}</span>

	public Float getTotalWithoutVat() {
<span class="nc" id="L130">		return totalWithoutVat;</span>
	}

	public void setTotalWithoutVat(Float totalWithoutVat) {
<span class="nc" id="L134">		this.totalWithoutVat = totalWithoutVat;</span>
<span class="nc" id="L135">	}</span>

	public Float getVatRate() {
<span class="nc" id="L138">		return vatRate;</span>
	}

	public void setVatRate(Float vatRate) {
<span class="nc" id="L142">		this.vatRate = vatRate;</span>
<span class="nc" id="L143">	}</span>

	public Float getVat() {
<span class="nc" id="L146">		return vat;</span>
	}

	public void setVat(Float vat) {
<span class="nc" id="L150">		this.vat = vat;</span>
<span class="nc" id="L151">	}</span>

	public Float getTotalWithVat() {
<span class="nc" id="L154">		return totalWithVat;</span>
	}

	public void setTotalWithVat(Float totalWithVat) {
<span class="nc" id="L158">		this.totalWithVat = totalWithVat;</span>
<span class="nc" id="L159">	}</span>

	public Float getDiscountRate() {
<span class="nc" id="L162">		return discountRate;</span>
	}

	public void setDiscountRate(Float discountRate) {
<span class="nc" id="L166">		this.discountRate = discountRate;</span>
<span class="nc" id="L167">	}</span>

	public Float getDiscount() {
<span class="nc" id="L170">		return discount;</span>
	}

	public void setDiscount(Float discount) {
<span class="nc" id="L174">		this.discount = discount;</span>
<span class="nc" id="L175">	}</span>

	public Float getTotal() {
<span class="nc" id="L178">		return total;</span>
	}

	public void setTotal(Float total) {
<span class="nc" id="L182">		this.total = total;</span>
<span class="nc" id="L183">	}</span>

	public Customer getCustomer() {
<span class="nc" id="L186">		return this.customer;</span>
	}

	public void setCustomer(final Customer customer) {
<span class="nc" id="L190">		this.customer = customer;</span>
<span class="nc" id="L191">	}</span>

	public Set&lt;OrderLine&gt; getOrderLines() {
<span class="nc" id="L194">		return this.orderLines;</span>
	}

	public void setOrderLines(final Set&lt;OrderLine&gt; orderLines) {
<span class="nc" id="L198">		this.orderLines = orderLines;</span>
<span class="nc" id="L199">	}</span>

	public Address getDeliveryAddress() {
<span class="nc" id="L202">		return deliveryAddress;</span>
	}

	public void setDeliveryAddress(Address deliveryAddress) {
<span class="nc" id="L206">		this.deliveryAddress = deliveryAddress;</span>
<span class="nc" id="L207">	}</span>

	public CreditCard getCreditCard() {
<span class="nc" id="L210">		return creditCard;</span>
	}

	public void setCreditCard(CreditCard creditCard) {
<span class="nc" id="L214">		this.creditCard = creditCard;</span>
<span class="nc" id="L215">	}</span>

	// ======================================
	// = Methods hash, equals, toString =
	// ======================================

	@Override
	public boolean equals(Object o) {
<span class="fc bfc" id="L223" title="All 2 branches covered.">		if (this == o)</span>
<span class="fc" id="L224">			return true;</span>
<span class="fc bfc" id="L225" title="All 4 branches covered.">		if (o == null || getClass() != o.getClass())</span>
<span class="fc" id="L226">			return false;</span>
<span class="fc" id="L227">		PurchaseOrder that = (PurchaseOrder) o;</span>
<span class="fc bfc" id="L228" title="All 4 branches covered.">		return orderDate.equals(that.orderDate) &amp;&amp; customer.equals(that.customer);</span>
	}

	@Override
	public int hashCode() {
<span class="fc" id="L233">		return Objects.hash(orderDate, customer);</span>
	}

	@Override
	public String toString() {
<span class="nc" id="L238">		return &quot;PurchaseOrder{&quot; + &quot;id=&quot; + id + &quot;, version=&quot; + version + &quot;, orderDate=&quot; + orderDate</span>
				+ &quot;, totalWithoutVat=&quot; + totalWithoutVat + &quot;, vatRate=&quot; + vatRate + &quot;, vat=&quot; + vat + &quot;, totalWithVat=&quot;
				+ totalWithVat + &quot;, discountRate=&quot; + discountRate + &quot;, discount=&quot; + discount + &quot;, total=&quot; + total
				+ &quot;, customer=&quot; + customer + &quot;, orderLines=&quot; + orderLines + &quot;, deliveryAddress=&quot; + deliveryAddress
				+ &quot;, creditCard=&quot; + creditCard + '}';
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>